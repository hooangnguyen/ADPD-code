<div class="topbar">
    <div class="topbar-left">
        <h1>Dashboard</h1>
        <div class="breadcrumb">
            <span>Trang ch·ªß</span>
            <span>/</span>
            <span>Dashboard</span>
        </div>
    </div>
    <div class="topbar-right">
        <button class="notification-btn">
            üîî
            <span class="notification-badge">3</span>
        </button>
    </div>
</div>

<div class="dashboard-content">
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon blue">üìä</div>
            <div class="stat-info">
                <h3>GPA T√≠ch l≈©y</h3>
                <div class="value">@ViewBag.GPA</div>
                <div class="value">3.65</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon green">üìö</div>
            <div class="stat-info">
                <h3>T√≠n ch·ªâ ƒë√£ h·ªçc</h3>
                <div class="value">@ViewBag.TotalCredits/@ViewBag.MaxCredits</div>
                <div class="value">85/120</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon orange">‚úÖ</div>
            <div class="stat-info">
                <h3>M√¥n h·ªçc k·ª≥ n√†y</h3>
                <div class="value">@ViewBag.CurrentSemesterCourses</div>
                <div class="value">6</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon purple">üìÖ</div>
            <div class="stat-info">
                <h3>L·ªõp h√¥m nay</h3>
                <div class="value">@ViewBag.TodayClasses</div>
                <div class="value">3</div>
            </div>
        </div>
    </div>

    <div class="content-grid">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">L·ªãch h·ªçc h√¥m nay</h2>
                <a href="@Url.Action("Schedule", "Student")"
                   class="view-all"
                   data-partial-url="@Url.Action("Schedule", "Student", new { partial = true })">Xem t·∫•t c·∫£ ‚Üí</a>
            </div>
            <table class="schedule-table">
                <thead>
                    <tr>
                        <th>M√¥n h·ªçc</th>
                        <th>Th·ªùi gian</th>
                        <th>Ph√≤ng</th>
                        <th>Gi·∫£ng vi√™n</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.TodaySchedule != null && ((IEnumerable<dynamic>)ViewBag.TodaySchedule).Any())
                    {
                        @foreach (var schedule in ViewBag.TodaySchedule)
                        {
                            <tr>
                                <td>
                                    <div class="subject-name">@schedule.CourseName</div>
                                    <div class="subject-code">@schedule.CourseCode</div>
                                </td>
                                <td><span class="time-badge">@schedule.Time</span></td>
                                <td><span class="room-badge">@schedule.Room</span></td>
                                <td>@schedule.LecturerName</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="4" style="text-align: center; color: #999;">
                                Kh√¥ng c√≥ l·ªãch h·ªçc h√¥m nay
                            </td>
                        </tr>
                    }

                    <tr>
                        <td>
                            <div class="subject-name">L·∫≠p tr√¨nh Web</div>
                            <div class="subject-code">CS301</div>
                        </td>
                        <td><span class="time-badge">07:30 - 09:30</span></td>
                        <td><span class="room-badge">A101</span></td>
                        <td>TS. Nguy·ªÖn VƒÉn B</td>
                    </tr>
                    <tr>
                        <td>
                            <div class="subject-name">C∆° s·ªü d·ªØ li·ªáu</div>
                            <div class="subject-code">CS302</div>
                        </td>
                        <td><span class="time-badge">09:45 - 11:45</span></td>
                        <td><span class="room-badge">B205</span></td>
                        <td>ThS. Tr·∫ßn Th·ªã C</td>
                    </tr>
                    <tr>
                        <td>
                            <div class="subject-name">M·∫°ng m√°y t√≠nh</div>
                            <div class="subject-code">CS303</div>
                        </td>
                        <td><span class="time-badge">13:00 - 15:00</span></td>
                        <td><span class="room-badge">C308</span></td>
                        <td>TS. L√™ VƒÉn D</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div>
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h2 class="card-title">Th√¥ng b√°o</h2>
                    <a href="#" class="view-all">Xem t·∫•t c·∫£ ‚Üí</a>
                </div>

                @if (ViewBag.RecentAssignments != null && ((IEnumerable<dynamic>)ViewBag.RecentAssignments).Any())
                {
                    @foreach (var assignment in ViewBag.RecentAssignments)
                    {
                        var daysLeft = (int)assignment.DaysLeft;
                        var iconType = daysLeft < 2 ? "warning" : daysLeft < 0 ? "info" : "success";
                        var icon = daysLeft < 0 ? "üì¢" : daysLeft < 2 ? "‚ö†Ô∏è" : "‚úÖ";

                        <div class="notification-item">
                            <div class="notification-icon @iconType">@icon</div>
                            <div class="notification-content">
                                <h4>@assignment.Title</h4>
                                <p>@assignment.CourseName - Deadline: @assignment.Deadline.ToString("dd/MM/yyyy")</p>
                                <span class="notification-time">@(daysLeft >= 0 ? $"C√≤n {daysLeft} ng√†y" : $"Qu√° h·∫°n {-daysLeft} ng√†y")</span>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <div class="notification-item">
                        <div class="notification-icon info">üì¢</div>
                        <div class="notification-content">
                            <h4>Ch∆∞a c√≥ th√¥ng b√°o</h4>
                            <p>Hi·ªán t·∫°i ch∆∞a c√≥ th√¥ng b√°o m·ªõi</p>
                            <span class="notification-time">H√¥m nay</span>
                        </div>
                    </div>
                }

                <div class="notification-item">
                    <div class="notification-icon info">üì¢</div>
                    <div class="notification-content">
                        <h4>Th√¥ng b√°o l·ªãch thi gi·ªØa k·ª≥</h4>
                        <p>L·ªãch thi gi·ªØa k·ª≥ ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t</p>
                        <span class="notification-time">2 gi·ªù tr∆∞·ªõc</span>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-icon success">‚úÖ</div>
                    <div class="notification-content">
                        <h4>ƒêi·ªÉm ƒë√£ c·∫≠p nh·∫≠t</h4>
                        <p>ƒêi·ªÉm m√¥n L·∫≠p tr√¨nh Web ƒë√£ ƒë∆∞·ª£c c√¥ng b·ªë</p>
                        <span class="notification-time">5 gi·ªù tr∆∞·ªõc</span>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-icon warning">‚ö†Ô∏è</div>
                    <div class="notification-content">
                        <h4>B√†i t·∫≠p s·∫Øp h·∫øt h·∫°n</h4>
                        <p>B√†i t·∫≠p L·∫≠p tr√¨nh Web - Deadline: 28/11/2024</p>
                        <span class="notification-time">1 ng√†y tr∆∞·ªõc</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Thao t√°c nhanh</h2>
                </div>
                <div class="quick-actions">
                    <a href="#" class="action-btn">
                        <div class="icon">‚úèÔ∏è</div>
                        <span>ƒêƒÉng k√Ω m√¥n h·ªçc</span>
                    </a>
                    <a href="@Url.Action("Grades", "Student")"
                       class="action-btn"
                       data-partial-url="@Url.Action("Grades", "Student", new { partial = true })">
                        <div class="icon">üìä</div>
                        <span>Xem ƒëi·ªÉm</span>
                    </a>
                    <a href="@Url.Action("Assignments", "Student")"
                       class="action-btn"
                       data-partial-url="@Url.Action("Assignments", "Student", new { partial = true })">
                        <div class="icon">üìù</div>
                        <span>B√†i t·∫≠p</span>
                    </a>
                    <a href="@Url.Action("Schedule", "Student")"
                       class="action-btn"
                       data-partial-url="@Url.Action("Schedule", "Student", new { partial = true })">
                        <div class="icon">üìÖ</div>
                        <span>L·ªãch thi</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

