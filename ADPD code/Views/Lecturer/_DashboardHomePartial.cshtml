<div class="topbar">
    <div class="topbar-left">
        <h1>Dashboard Gi·∫£ng vi√™n</h1>
        <div class="breadcrumb">
            <span>Trang ch·ªß</span>
            <span>/</span>
            <span>Dashboard</span>
        </div>
    </div>
    <div class="topbar-right">
        <button class="notification-btn">
            üîî
            <span class="notification-badge">5</span>
        </button>
        <div class="user-menu">
            <img src="" alt="avatar">
            <span>@(ViewBag.FullName ?? "Gi·∫£ng vi√™n")</span>
        </div>
    </div>
</div>

<div class="dashboard-content">
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon blue">üìò</div>
            <div class="stat-info">
                <h3>M√¥n h·ªçc ph·ª• tr√°ch</h3>
                <div class="value">@(ViewBag.TotalCourses ?? 4)</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon green">üë•</div>
            <div class="stat-info">
                <h3>T·ªïng sinh vi√™n</h3>
                <div class="value">@(ViewBag.TotalStudents ?? 156)</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon orange">üìù</div>
            <div class="stat-info">
                <h3>B√†i t·∫≠p ch∆∞a ch·∫•m</h3>
                <div class="value">@(ViewBag.PendingAssignments ?? 23)</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon purple">‚è∞</div>
            <div class="stat-info">
                <h3>L·ªõp h√¥m nay</h3>
                <div class="value">@(ViewBag.TodayClasses ?? 2)</div>
            </div>
        </div>
    </div>

    <div class="content-grid">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">M√¥n h·ªçc c·ªßa t√¥i</h2>
                <a href="@Url.Action("Courses", "Lecturer")" 
                   class="view-all"
                   data-partial-url="@Url.Action("Courses", "Lecturer", new { partial = true })">Xem t·∫•t c·∫£ ‚Üí</a>
            </div>
            <table class="course-table">
                <thead>
                    <tr>
                        <th>M√¥n h·ªçc</th>
                        <th>L·ªõp</th>
                        <th>Sinh vi√™n</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.RecentCourses != null && ((IEnumerable<dynamic>)ViewBag.RecentCourses).Any())
                    {
                        @foreach (var course in ViewBag.RecentCourses as IEnumerable<dynamic>)
                        {
                            <tr>
                                <td>
                                    <div class="course-name">@course.CourseName</div>
                                </td>
                                <td><span class="course-badge">@course.ClassName</span></td>
                                <td>@course.StudentCount SV</td>
                                <td>
                                    <div class="action-btns">
                                        <a href="@Url.Action("CourseDetail", "Lecturer", new { id = course.CourseID })" 
                                           class="btn-sm btn-view">Xem</a>
                                        <a href="@Url.Action("Courses", "Lecturer")" 
                                           class="btn-sm btn-edit"
                                           data-partial-url="@Url.Action("Courses", "Lecturer", new { partial = true })">Qu·∫£n l√Ω</a>
                                    </div>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="4" style="text-align: center; padding: 30px; color: #999;">
                                <p>Ch∆∞a c√≥ m√¥n h·ªçc n√†o ƒë∆∞·ª£c ph√¢n c√¥ng</p>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div>
            <div class="card" style="margin-bottom: 20px;">
                <div class="card-header">
                    <h2 class="card-title">B√†i n·ªôp g·∫ßn ƒë√¢y</h2>
                    <a href="@Url.Action("Assignments", "Lecturer")" 
                       class="view-all"
                       data-partial-url="@Url.Action("Assignments", "Lecturer", new { partial = true })">Xem t·∫•t c·∫£ ‚Üí</a>
                </div>
                @if (ViewBag.RecentSubmissions != null && ((IEnumerable<dynamic>)ViewBag.RecentSubmissions).Any())
                {
                    @foreach (var submission in ViewBag.RecentSubmissions as IEnumerable<dynamic>)
                    {
                        <div class="submission-item">
                            <div class="submission-info">
                                <h4>@submission.AssignmentTitle</h4>
                                <p>@submission.StudentName - @submission.ClassName</p>
                                <span class="submission-time">@submission.TimeAgo</span>
                            </div>
                            <span class="status-badge @submission.Status">@submission.StatusText</span>
                        </div>
                    }
                }
                else
                {
                    <div style="padding: 30px; text-align: center; color: #999;">
                        <p>Ch∆∞a c√≥ b√†i n·ªôp n√†o</p>
                    </div>
                }
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">L·ªãch d·∫°y h√¥m nay</h2>
                </div>
                <div class="schedule-timeline">
                    @if (ViewBag.TodaySchedule != null && ((IEnumerable<dynamic>)ViewBag.TodaySchedule).Any())
                    {
                        @foreach (var schedule in ViewBag.TodaySchedule as IEnumerable<dynamic>)
                        {
                            <div class="schedule-item">
                                <div class="schedule-time">@schedule.Time</div>
                                <div class="schedule-details">
                                    <h4>@schedule.CourseName</h4>
                                    <p>L·ªõp @schedule.ClassName - Ph√≤ng @schedule.Room</p>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <div style="padding: 30px; text-align: center; color: #999;">
                            <p>Kh√¥ng c√≥ l·ªãch d·∫°y h√¥m nay</p>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

