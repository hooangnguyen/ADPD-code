@{
    var isPartial = ViewData["IsPartial"] as bool? ?? false;
    Layout = isPartial ? null : "~/Views/Shared/_Layout.cshtml";
}
<link href="~/css/AdminDashboard.css?v=1.0" rel="stylesheet" asp-append-version="true" />

<div class="management-wrapper">
    <div class="management-header">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
            <div>
                <h1>
                    <span>ğŸ“Š</span>
                    Thá»‘ng kÃª & BÃ¡o cÃ¡o
                </h1>
                <p>Xem bÃ¡o cÃ¡o tá»•ng quan há»‡ thá»‘ng</p>
            </div>
            <a href="@Url.Action("Dashboard", "Admin")" 
               class="btn btn-secondary" 
               style="padding: 10px 20px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px;"
               data-partial-url="@Url.Action("Dashboard", "Admin", new { partial = true })">
                â† Vá» Dashboard
            </a>
        </div>
    </div>

    <div class="stats-grid" style="padding: 30px;">
        <div class="stat-card stat-students">
            <div class="stat-icon">ğŸ“</div>
            <h3>@(ViewBag.TotalStudents ?? 0)</h3>
            <p>Tá»•ng sá»‘ sinh viÃªn</p>
        </div>
        <div class="stat-card stat-lecturers">
            <div class="stat-icon">ğŸ‘©â€ğŸ«</div>
            <h3>@(ViewBag.TotalLecturers ?? 0)</h3>
            <p>Tá»•ng sá»‘ giáº£ng viÃªn</p>
        </div>
        <div class="stat-card stat-courses">
            <div class="stat-icon">ğŸ“š</div>
            <h3>@(ViewBag.TotalCourses ?? 0)</h3>
            <p>Tá»•ng sá»‘ mÃ´n há»c</p>
        </div>
        <div class="stat-card stat-classes">
            <div class="stat-icon">ğŸ«</div>
            <h3>@(ViewBag.TotalClasses ?? 0)</h3>
            <p>Tá»•ng sá»‘ lá»›p há»c</p>
        </div>
        <div class="stat-card stat-attendance">
            <div class="stat-icon">ğŸ“‹</div>
            <h3>@(ViewBag.TotalAttendance ?? 0)</h3>
            <p>Tá»•ng sá»‘ buá»•i Ä‘iá»ƒm danh</p>
        </div>
        <div class="stat-card stat-rate">
            <div class="stat-icon">ğŸ“ˆ</div>
            <h3>@(ViewBag.AttendanceRate ?? 0)%</h3>
            <p>Tá»· lá»‡ tham dá»±</p>
        </div>
        <div class="stat-card stat-score">
            <div class="stat-icon">â­</div>
            <h3>@(ViewBag.AvgScore ?? 0)</h3>
            <p>Äiá»ƒm trung bÃ¬nh</p>
        </div>
    </div>

    <div style="padding: 30px;">
        <h2 style="margin-bottom: 20px; color: #333;">Thá»‘ng kÃª theo Khoa</h2>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>TÃªn khoa</th>
                        <th>Sá»‘ giáº£ng viÃªn</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        int index = 1;
                    }
                    @if (ViewBag.Departments != null)
                    {
                        @foreach (var dept in ViewBag.Departments)
                        {
                            <tr>
                                <td>@index</td>
                                <td>@dept.DepartmentName</td>
                                <td>@dept.LecturerCount</td>
                            </tr>
                            index++;
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .stat-card.stat-attendance {
        border-left-color: #6f42c1;
    }

    .stat-card.stat-attendance h3 {
        color: #6f42c1;
    }

    .stat-card.stat-rate {
        border-left-color: #17a2b8;
    }

    .stat-card.stat-rate h3 {
        color: #17a2b8;
    }

    .stat-card.stat-score {
        border-left-color: #ffc107;
    }

    .stat-card.stat-score h3 {
        color: #ffc107;
    }
</style>

